# QA Sync

PRD + 사이트 분석으로 QA 시나리오 자동 생성, Slack 피드백을 Linear 이슈로 동기화.

## 트리거

- "QA 시나리오 만들어줘"
- "QA 세팅"
- "Slack 이슈 동기화"
- `/qa-sync`

---

## 모드 1: Setup (초기 세팅)

### Step 1. 연동 확인

1. Slack 연동 체크 → 없으면 `suggest_connectors` 호출
2. Linear 연동 체크 → 없으면 `suggest_connectors` 호출

### Step 2. 정보 수집

물어봅니다:
> "QA 대상 사이트 URL을 알려주세요."
> "PRD 파일이 있나요? (파일 첨부 또는 URL)"
> "QA 피드백을 남길 Slack 쓰레드 URL을 알려주세요."
> "이슈를 등록할 Linear 프로젝트 URL을 알려주세요."

### Step 3. QA 시나리오 자동 생성

**PRD 분석:**
- 주요 기능 추출
- 유저 플로우 파악
- 엣지 케이스 식별

**사이트 분석:**
- 실제 UI 구성요소 확인
- 인터랙션 포인트 파악

### Step 4. QA 가이드 생성

마크다운 파일로 저장.

### Step 5. 확인

> "QA 가이드가 생성되었습니다. 검토 후 수정할 부분 있으면 알려주세요."

---

## 모드 2: Sync (이슈 동기화)

### Step 1. Slack 쓰레드 읽기

`slack_read_thread`로 새 메시지 확인.

### Step 2. 메시지 분석

**이슈 유형:**
- 🐛 버그: 안 됨, 에러, 깨짐
- 📊 데이터: 틀림, 안 맞음, 중복
- 💡 개선: ~하면 좋겠다

**제목 생성:**
- 메시지 핵심을 30자 이내로 요약

### Step 3. 중복 체크

Linear 프로젝트에서 유사 이슈 검색.
- 있으면 → 기존 이슈에 코멘트
- 없으면 → 새 이슈 생성

### Step 4. Linear 이슈 생성

```markdown
## 보고자
{작성자} (@{Slack ID})

## 증상
{정리한 증상 설명}

## 스크린샷
{첨부된 이미지}

## 원문
> {원본 Slack 메시지}

## 원본 링크
[Slack에서 보기]({메시지 링크})
```

### Step 5. 완료 알림

> "N개 메시지 처리 완료. 새 이슈 X개, 기존 이슈 코멘트 Y개."

---

## 시나리오 생성 가이드

### 시나리오 유형

| 유형 | 설명 | 예시 |
|-----|------|-----|
| Happy | 정상 흐름 | 카드 클릭 → 상세 열림 |
| Alternative | 다른 경로 | 키보드로 상세 열기 |
| Edge | 경계 상황 | 첫 번째/마지막 카드 |
| Error | 오류 상황 | 네트워크 끊김 |
| Boundary | 경계값 | 최대 길이, 0개/100개 |

### 시나리오 테이블 형식

| 유형 | 시나리오 | 확인 사항 | ☐ |
|-----|---------|----------|---|

- **시나리오**: 단계별로 (1. xxx 2. xxx)
- **확인 사항**: "~하는지 확인"

### AI/데이터 서비스 판단

PRD에 아래 키워드가 있으면 추가 테스트:

| 키워드 | 추가 테스트 |
|-------|-----------|
| AI, ML, 추천, 예측 | 환각 체크, 일관성 |
| 실시간, 라이브 | 시간 정확성, 지연 |
| 요약, 분석 | 출처 대조, 정확성 |

### 공통 에지 케이스

| 상황 | 확인 사항 |
|-----|----------|
| 빈 상태 | 데이터 없을 때 UI |
| 로딩 실패 | 이미지/API 에러 |
| 극단 데이터 | 긴 텍스트, 특수문자 |
| 경계값 | 최소/최대 개수 |

### 좋은 시나리오 원칙

- 1 시나리오 = 1 검증
- 독립 실행 (의존성 없음)
- 3-5 스텝 이내
